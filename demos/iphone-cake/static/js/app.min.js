/*
 * iPhone-Cake V1.0.0
 * Copyright ©2015 Kevin Frontend Studio All Rights Reserved.
 */
"use strict";var App=angular.module("App",["ngRoute","angular-md5"]);App.factory("jQuery",["$window",function(e){return e.jQuery}]),App.config(["$routeProvider","$locationProvider",function(e,r){var t="document/embed-template.html";e.when("/",{redirectTo:"/home"}).when("/home",{templateUrl:"document/home.html"}).when("/start",{templateUrl:"document/start.html"}).when("/global",{templateUrl:"document/global.html"}).when("/components",{templateUrl:"document/components.html"}).when("/modules-navbar-default",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Navbar:default",url:"modules/navbar-default.html"})}]}}).when("/modules-navbar-searching",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Navbar:searching",url:"modules/navbar-searching.html"})}]}}).when("/modules-footer",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Footer",url:"modules/footer.html"})}]}}).when("/modules-app-list",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"App list",url:"modules/app-list.html"})}]}}).when("/modules-app-filter",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"App filter",url:"modules/app-filter.html"})}]}}).when("/modules-app-filter-dropdown",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"App filter dropdown",url:"modules/app-filter-dropdown.html"})}]}}).when("/modules-app-banner",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"App banner",url:"modules/app-banner.html"})}]}}).when("/modules-app-download-list",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"App download list",url:"modules/app-download-list.html",iframeScroll:"yes"})}]}}).when("/modules-screenshot",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Screenshot",url:"modules/screenshot.html"})}]}}).when("/modules-guide-banner",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Guide banner",url:"modules/guide-banner.html",iframeScroll:"yes"})}]}}).when("/modules-panel",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Panel",url:"modules/panel.html"})}]}}).when("/modules-install-course",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Install course",url:"modules/install-course.html"})}]}}).when("/modules-sidebar",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Sidebar",url:"modules/sidebar.html"})}]}}).when("/modules-pager",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Pager",url:"modules/pager.html"})}]}}).when("/modules-genre",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Genre",url:"modules/genre.html"})}]}}).when("/modules-breadcrumb",{templateUrl:t,controller:"routeController",resolve:{result:["remoteDOMParseService",function(e){return e.parse({title:"Breadcrumb",url:"modules/breadcrumb.html"})}]}}),r.hashPrefix("!")}]),App.run(["jQuery","$rootScope","md5",function(e,r,t){e("body").delegate(".nav-tabs a","click",function(){var r=e(this),t=e(r.data("target"));r.parent().addClass("active").siblings().removeClass("active"),e(".tab-pane.active").removeClass("active"),t.addClass("active")}),r.$on("$routeChangeStart",function(e,r){if(r.originalPath&&"/"!=r.originalPath&&"/home"!=r.originalPath){var l=sessionStorage.secret;void 0==l&&(l=prompt("请输入访问口令："));var o=t.createHash(l||"");"376b594010f76b1788eabdb4d49cd872"===o?sessionStorage.secret=l:(alert("口令错误！"),location.href="#!/home",e.preventDefault())}})}]),App.controller("navController",["$scope","$location",function(e,r){e.isActiveStart=function(e){return r.path().indexOf(e)>-1},e.isActiveEqual=function(e){return e===r.path()}}]),App.controller("routeController",["$scope","result",function(e,r){e.title=r.title,e.url=r.url,e.code=r.code,e.iframeScroll=r.iframeScroll}]),App.factory("remoteDOMParseService",["jQuery","$q","$http",function(e,r,t){return{parse:function(l){var o=l.title,n=l.url,a=l.iframeScroll||"no",u=r.defer();return t.get(n).then(function(r){var t=new DOMParser,l=e(t.parseFromString(r.data,"text/html")).find("body").html();u.resolve({title:o,url:n,code:l,iframeScroll:a})}),u.promise}}}]);